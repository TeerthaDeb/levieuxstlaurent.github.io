<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Menu</title>
	<link rel="stylesheet" href="./menu assets/common css.css">

	<script src="./menu assets/main.js" defer></script>
	<script src="https://kit.fontawesome.com/eba7749dfa.js" crossorigin="anonymous"></script>

	<style>
		#loading-screen {
			position: fixed;
			width: 100%;
			height: 100%;
			background-color: #fff;
			display: flex;
			justify-content: center;
			align-items: center;
			z-index: 9999;
		}
	
		.loader {
			display: flex;
			align-items: center;
			justify-content: center;
		}
	
		.load-book-2-wrapper {
			width: 150px;
			height: fit-content;
			display: flex;
			align-items: center;
			justify-content: flex-end;
			position: relative;
		}
	
		.load-book-2 {
			width: 100%;
			height: auto;
			filter: drop-shadow(10px 10px 5px rgba(0, 0, 0, 0.137));
		}
	
		.load-book-2-wrapper .load-book-2-page {
			width: 50%;
			height: auto;
			position: absolute;
			animation: paging 0.15s linear infinite;
			transform-origin: left;
		}
	
		@keyframes paging {
			0% {
				transform: rotateY(0deg) skewY(0deg);
			}
	
			50% {
				transform: rotateY(90deg) skewY(-20deg);
			}
	
			100% {
				transform: rotateY(180deg) skewY(0deg);
			}
		}
	</style>
</head>

<body>

	<!-- Loading screen -->
	<div class="loader" id = "loading-screen">
		<div class="load-book-2-wrapper">
			<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 126 75" class="load-book-2">
				<rect stroke-width="5" stroke="#e05452" rx="7.5" height="70" width="121" y="2.5" x="2.5"></rect>
				<line stroke-width="5" stroke="#e05452" y2="75" x2="63.5" x1="63.5"></line>
				<path stroke-linecap="round" stroke-width="4" stroke="#c18949" d="M25 20H50"></path>
				<path stroke-linecap="round" stroke-width="4" stroke="#c18949" d="M101 20H76"></path>
				<path stroke-linecap="round" stroke-width="4" stroke="#c18949" d="M16 30L50 30"></path>
				<path stroke-linecap="round" stroke-width="4" stroke="#c18949" d="M110 30L76 30"></path>
			</svg>
	
			<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff74" viewBox="0 0 65 75" class="load-book-2-page">
				<path stroke-linecap="round" stroke-width="4" stroke="#c18949" d="M40 20H15"></path>
				<path stroke-linecap="round" stroke-width="4" stroke="#c18949" d="M49 30L15 30"></path>
				<path stroke-width="5" stroke="#e05452"
					d="M2.5 2.5H55C59.1421 2.5 62.5 5.85786 62.5 10V65C62.5 69.1421 59.1421 72.5 55 72.5H2.5V2.5Z"></path>
			</svg>
		</div>
	</div>
	  

	<!---->
	<nav class="navbar" data-navbar="">
		<ul class="navbar-list" id="NavBar">
			<li class="navbar-item">
				<a href="./index.html#Main" class="navbar-link hover-underline">
					<div class="separator"></div>
					<span class="span">Retourner / Return</span>
				</a>
			</li>
		</ul>
	</nav>
	<!---->

	<div id="computer-menu">
		<!-- Previous Button For Desktop-->
		<button id="prev-btn" class="desktop-btn">
			<i class="fas fa-arrow-circle-left"></i>
		</button>



		<!-- Book -->
		<div id="book" class="book">
			<!-- Paper 1 -->
			<div id="p1" class="paper">
				<div class="front">
					<div id="f1" class="front-content">
						<img src="./menu assets/pictures/0.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b1" class="back-content">
						<img src="./menu assets/pictures/1.jfif">
					</div>
				</div>
			</div>
			<!-- Paper 2 -->
			<div id="p2" class="paper">
				<div class="front">
					<div id="f2" class="front-content">
						<img src="./menu assets/pictures/2.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b2" class="back-content">
						<img src="./menu assets/pictures/3.jfif">
					</div>
				</div>
			</div>
			<!-- Paper 3 -->
			<div id="p3" class="paper">
				<div class="front">
					<div id="f3" class="front-content">
						<img src="./menu assets/pictures/4.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b3" class="back-content">
						<img src="./menu assets/pictures/5.jfif">
					</div>
				</div>
			</div>

			<!-- Paper 4 -->
			<div id="p4" class="paper">
				<div class="front">
					<div id="f4" class="front-content">
						<img src="./menu assets/pictures/6.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b4" class="back-content">
						<img src="./menu assets/pictures/7.jfif">
					</div>
				</div>
			</div>

			<!-- Paper 5 -->
			<div id="p5" class="paper">
				<div class="front">
					<div id="f5" class="front-content">
						<img src="./menu assets/pictures/8.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b5" class="back-content">
						<img src="./menu assets/pictures/9.jfif">
					</div>
				</div>
			</div>

			<!-- Paper 6 -->
			<div id="p6" class="paper">
				<div class="front">
					<div id="f6" class="front-content">
						<img src="./menu assets/pictures/10.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b6" class="back-content">
						<img src="./menu assets/pictures/11.jfif">
					</div>
				</div>
			</div>

			<!-- Paper 7 -->
			<div id="p7" class="paper">
				<div class="front">
					<div id="f7" class="front-content">
						<img src="./menu assets/pictures/12.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b7" class="back-content">
						<img src="./menu assets/pictures/13.jfif">
					</div>
				</div>
			</div>

		</div>

		<!-- Next Button For Desktop -->
		<button id="next-btn" class="desktop-btn">
			<i class="fas fa-arrow-circle-right"></i>
		</button>
	</div>

	<div id="smartphone-menu">

		<button id="prev-btn-mobile" class="mobile-btn">
			<i class="fas fa-arrow-circle-left"></i>
		</button>

        <div class="wrapper">
			<input type="radio" name="slide" id="one" checked>
			<input type="radio" name="slide" id="two">
			<input type="radio" name="slide" id="three">
			<input type="radio" name="slide" id="four">
			<input type="radio" name="slide" id="five">
			<input type="radio" name="slide" id="six">
			<input type="radio" name="slide" id="seven">
			<input type="radio" name="slide" id="eight">
			<input type="radio" name="slide" id="nine">
			<input type="radio" name="slide" id="ten">
			<input type="radio" name="slide" id="eleven">
			<input type="radio" name="slide" id="twelve">
			<input type="radio" name="slide" id="thirteen">
			<input type="radio" name="slide" id="fourteen">
	
			<!--Images are loaded here.-->
			<div class="img img-1">
				<img src="./menu assets/pictures/0.jfif" alt="">
			</div>
			<div class="img img-2">
				<img src="./menu assets/pictures/1.jfif" alt="">
			</div>
			<div class="img img-3">
				<img src="./menu assets/pictures/2.jfif" alt="">
			</div>
			<div class="img img-4">
				<img src="./menu assets/pictures/3.jfif" alt="">
			</div>
			<div class="img img-5">
				<img src="./menu assets/pictures/4.jfif" alt="">
			</div>
			<div class="img img-6">
				<img src="./menu assets/pictures/5.jfif" alt="">
			</div>
			<div class="img img-7">
				<img src="./menu assets/pictures/6.jfif" alt="">
			</div>
			<div class="img img-8">
				<img src="./menu assets/pictures/7.jfif" alt="">
			</div>
			<div class="img img-9">
				<img src="./menu assets/pictures/8.jfif" alt="">
			</div>
			<div class="img img-10">
				<img src="./menu assets/pictures/9.jfif" alt="">
			</div>
			<div class="img img-11">
				<img src="./menu assets/pictures/10.jfif" alt="">
			</div>
			<div class="img img-12">
				<img src="./menu assets/pictures/11.jfif" alt="">
			</div>
			<div class="img img-13">
				<img src="./menu assets/pictures/12.jfif" alt="">
			</div>
			<div class="img img-14">
				<img src="./menu assets/pictures/13.jfif" alt="">
			</div>
	
	
			<div class="sliders">
				<label for="one" class="one"></label>
				<label for="two" class="two"></label>
				<label for="three" class="three"></label>
				<label for="four" class="four"></label>
				<label for="five" class="five"></label>
				<label for="six" class="six"></label>
				<label for="seven" class="seven"></label>
				<label for="eight" class="eight"></label>
				<label for="nine" class="nine"></label>
				<label for="ten" class="ten"></label>
				<label for="eleven" class="eleven"></label>
				<label for="twelve" class="twelve"></label>
				<label for="thirteen" class="thirteen"></label>
				<label for="fourteen" class="fourteen"></label>
			</div>
		</div>	

		<button id="next-btn-mobile" class="mobile-btn">
			<i class="fas fa-arrow-circle-right"></i>
		</button>
    </div>

	<script>

		// Call the function on page load
		window.onload = function () {
			showMenuByDevice();
		};

		// Function to detect device type and show/hide menu accordingly
		function showMenuByDevice() {
			var isComputer = window.innerWidth >= window.innerHeight;
			if (isComputer) {
				document.getElementById('smartphone-menu').style.display = 'none';
				document.getElementById('computer-menu').style.display = 'block';
			} else {
				document.getElementById('smartphone-menu').style.display = 'block';
				document.getElementById('computer-menu').style.display = 'none';
			}
		}

		// Hide loading screen once everything is fully loaded
		window.addEventListener('load', function() {
			document.getElementById('loading-screen').style.display = 'none';
		});


		// Business Logic for mobile
		const prevBtnMobile = document.getElementById("prev-btn-mobile");
		const nextBtnMobile = document.getElementById("next-btn-mobile");
		const mobilePapers = document.querySelectorAll(".img");
		const maxLocationMobile = mobilePapers.length - 1;
		let currentLocationMobile = 0;

		// initially update the butoon.
		prevBtnMobile.style.visibility = 'hidden';

		function updateButtonVisibility() {
			// Show prev button if not on first page
			prevBtnMobile.style.visibility = currentLocationMobile > 0 ? "visible" : "hidden";
			// Show next button if not on last page
			nextBtnMobile.style.visibility = currentLocationMobile < maxLocationMobile ? "visible" : "hidden";
		}




		// Function to handle touch events for smartphone menu
		document.addEventListener("DOMContentLoaded", function () {
			let startX;

			document.addEventListener("touchstart", function (event) {
				startX = event.touches[0].clientX;
			});

			document.addEventListener("touchend", function (event) {
				const endX = event.changedTouches[0].clientX;
				const deltaX = startX - endX;
				const currentSlide = document.querySelector('input[name="slide"]:checked');
				let nextSlide;

				if (Math.abs(deltaX) > 50) { // Adjust this threshold as needed
					if (deltaX > 0) {
						nextSlide = currentSlide.nextElementSibling || currentSlide.parentElement.firstElementChild;
						currentLocationMobile++;
						updateButtonVisibility();
					} else {
						nextSlide = currentSlide.previousElementSibling || currentSlide.parentElement.lastElementChild;
						currentLocationMobile--;
						updateButtonVisibility();
					}

					if (nextSlide) {
						nextSlide.checked = true;
					}
				}
			});

			if (nextBtnMobile) {
				nextBtnMobile.addEventListener("click", function () {
					const currentSlide = document.querySelector('input[name="slide"]:checked');
					const nextSlide = currentSlide.nextElementSibling || currentSlide.parentElement.firstElementChild;

					if (nextSlide) {
						nextSlide.checked = true;
					}

					currentLocationMobile++;
					updateButtonVisibility();
				});
			}

			if (prevBtnMobile) {
				prevBtnMobile.addEventListener("click", function () {
					const currentSlide = document.querySelector('input[name="slide"]:checked');
					const prevSlide = currentSlide.previousElementSibling || currentSlide.parentElement.lastElementChild;

					if (prevSlide) {
						prevSlide.checked = true;
					}

					currentLocationMobile--;
					updateButtonVisibility();
				});
			}
		});

		
	</script>

</body>

</html>